pub fn perfect_shuffle(mut x: u32) -> u32 {
	x = (x & (0xff0000ff)) | ((x & (0x00ff0000)) >> 8) | ((x & (0x0000ff00)) << 8);
	x = (x & (0xf00ff00f)) | ((x & (0x0f000f00)) >> 4) | ((x & (0x00f000f0)) << 4);
	x = (x & (0xc3c3c3c3)) | ((x & (0x30303030)) >> 2) | ((x & (0x0c0c0c0c)) << 2);
	x = (x & (0x99999999)) | ((x & (0x44444444)) >> 1) | ((x & (0x22222222)) << 1);
	x
}
